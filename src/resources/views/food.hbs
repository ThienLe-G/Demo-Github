{{!-- Title Tag SEO --}}
<head>
  <title>https://happyminds.onrender.com/</title>
</head>
{{!-- Title Meta description Tag--}}
<head>
  <meta name="description" content="
    {{!-- Content of desciption --}}
    Trang Web tập thể dục chất lượng cao, 
    nơi bạn có thể truy cập miễn phí và tận hưởng những buổi tập đa dạng, 
    giúp nâng cao sức khỏe và tinh thần của bạn!.
">
</head>
<header>
  <a href="https://happyminds.onrender.com/" style="display: none;">https://happyminds.onrender.com/</a>
</header>
<link rel="canonical" href="https://happyminds.onrender.com/">
<h3 class="spanFood text-white"><b>FOODS</b></h3>
<div class="container-fluid">

  <div class="d-flex flex-column gap-2 justify-content-center align-items-center">
    <h2 class="col-lg-12 d-flex justify-content-center py-4 pb-2">Suggested <span class="text-danger d-flex" style="white-space: pre;"> Calories </span> Content of Each Dish</h2>
    <div class="searchBar col-lg-12 d-flex flex-row mb-2 rounded-4" style="height: 50px; width: 610px; background-color: white;">
      <div class="searchIcon d-flex justify-content-center align-items-center ">
        <button class="searchBtn ps-3 pe-4">
          <i class="bi bi-search"></i>
        </button>
      </div>
      <div class="searchInput d-flex align-items-center p-0 me-2" style="width: 500px; ">
        <input class="" id="search" oninput=renderResultSearch() type="text" placeholder="Search food" style="width: 500px; outline: none; border: none; font-size: 18px">
      </div>
      <div class="d-flex justify-content-center align-items-center">
        <button class="clearBtn" onclick="clearSearch()">
          <i class="bi bi-x-circle-fill fs-5"></i>
        </button>
      </div>
    </div>
    <div class=" filterBar d-flex flex-row mb-3 rounded-4 justify-content-between align-items-center" style="height: 50px; width: 610px">
      <div class=" filterBar border-0 bg-light px-0 py-1 rounded-4 d-flex justify-content-between align-items-center"  style="height: 50px; width: 500px"> 
        <p class="ps-3 m-0 d-flex align-items-center fw-semibold">Lọc</p>
        <div class="foodBtn" id="favouriteFood" data-isDisable="true" style="cursor: pointer;">Favourite</div>
        <div class="foodBtn" id="caloriesFood" data-isDisable="true" style="cursor: pointer;">Calories</div>
        <div class="foodBtn d-flex justify-content-between" data-keyword="none" id="categoryFood" data-bs-toggle="dropdown" aria-expanded="false" style="cursor: pointer; width: 130px;"><span class="text-center" style="display: block-inline; width: 110px;" id="categorySelection">Category </span> <i class="bi bi-caret-down-fill ps-1 fs-6"></i> <br>
          <div class="dropdown-menu m-0 py-0 " style="border: 2px solid rgba(253, 0, 84, 1);" aria-labelledby="categorySelection">
            <div class=""><a class="p-1 " onclick="filterBy('none')" >--Category--</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Meat')" >Meat</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Seafood')" >Seafood</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Fruit')" >Fruit</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Vegetable')" >Vegetable</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Seeds/Nuts')" >Seeds/Nuts</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Starch')" >Starch</a></div>
            <div class=""><a class="p-1 " onclick="filterBy('Milk')" >Milk</a></div>
          </div>
        </div>    
        <div class="foodBtn sortBtn pe-3 bg-light" style="cursor: pointer;" id="sortBtn" onclick="sortToggle()">
          <i class="bi bi-arrow-down-up fs-4"></i>
        </div>
      </div>
      <div class="d-flex align-items-center m-0 p-0" >
        <button class="menuBtn d-flex align-items-center p-2" style="height: 50px" data-bs-toggle="modal" data-bs-target="#menuModal">
          <i class="bi bi-list fs-3" style="color: white ; font-weight: 1000 "></i>MENU
        </button>
      </div>

      <div class="modal fade" data-bs-backdrop="static"  id="menuModal" tabindex="-1" aria-labelledby="menuModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" >
          <div class="modal-content">
            <div class="modal-header text-light" style="background-color: rgba(253, 0, 84, 1);">
              <h5 class="modal-title" id="menuModalLabel">MY MENU</h5>
              <button class="border-0" data-bs-dismiss="modal" aria-label="Close" style="background-color: rgba(253, 0, 84, 1); color: white"><i class="bi bi-x-circle-fill fs-4"></i></button>
            </div>
            <div class="modal-body pb-0">
              <table class=" border border-2 ">
                <thead>
                  <tr class="text-center fw-bold justify-content-center " style="background-color:rgb(216, 214, 214);">
                    <td style="width: 200px; height: 40px;">Name</td>
                    <td style="width: 150px; height: 40px;">Calo/100g(calo)</td>
                    <td style="width: 150px; height: 40px;">Amount(g)</td>
                    <td style="width: 150px; height: 40px;">Total calo</td>
                    <td style="width: 100px; height: 40px;">Remove</td>
                  </tr>
                </thead>
                <tbody id="tblMenuUser">
                        
                </tbody>
              </table>
              <div class="line mt-4 my-2" style="height: 2px; background-color: rgb(211, 211, 211);"></div>
              <div class="totalMenu" id="totalMenu">
                  <div class="row justify-content-between pb-1">
                    <div class="col-lg-3 fw-semibold" style="font-size: 18px;">Items </div>
                    <div class="col-lg-3 fw-semibold d-flex justify-content-end" style="font-size: 18px;" id="menuItem">6</div>
                  </div>
                  <div class="row justify-content-between pb-1">
                    <div class="col-lg-4 fw-semibold" style="font-size: 18px;">Your required calories </div>
                    <div class="col-lg-3 fw-semibold d-flex justify-content-end" style="font-size: 18px;" id="caloriesRequired">2000 calo</div>
                  </div>
                  <div class="row justify-content-between pb-1">
                    <div class="col-lg-3 fw-semibold" style="font-size: 18px;">Total calories </div>
                    <div class="col-lg-3 fw-semibold d-flex justify-content-end" style="font-size: 18px;" id="menuCalories">2200 calo</div>
                  </div>
              </div>
            </div>
            <div class="modal-footer border-0 pt-1">
              <button type="button" class="btn border-0 fw-semibold" data-bs-dismiss="modal" style="background-color:rgba(253, 0, 84, 1); color: white;">CLOSE</button>
              {{!-- <button type="button" class="btn border-0 fw-semibold" style="background-color:rgba(253, 0, 84, 1); color: white;">SAVE MENU</button> --}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="table d-flex flex-column align-items-center justify-content-center">
    <div class="thead d-flex justify-content-start p-0 mb-2">
      <div class="cellHead d-flex align-items-center justify-content-center">Name</div>
      <div class="cellHead d-flex align-items-center justify-content-center">Image</div>
      <div class="cellHead d-flex align-items-center justify-content-center">Calo/100g</div>
      <div class="cellHead d-flex align-items-center justify-content-center">Category</div>
      <div class="cellHead d-flex align-items-center justify-content-center ipWeight">Amount</div>
      <div class="cellHead lastCell d-flex align-items-center justify-content-center">Add</div>
    </div>
    <div id="foodList" data-email="{{email}}" data-isLogin="{{isLogin}}"></div>
  </div>
  <input class="fvrFoodIDs" type="hidden" data-list="{{foodLikeArray}}" value="[{{foodLikedArray}}]"></input>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
  <center id="btn_controller">
    <div class="row mb-3">
        <div class="col d-flex justify-content-end pe-0 m-0">
            <button type="button" class="btn btn-success" id="currentPage_btn_left"><i class="bi bi-caret-left-fill"></i></button>
        </div>
        <div class="col-1 d-flex justify-content-center">
            <span class="input-group-text d-flex align-items-center justify-content-center w-100 p-0 fs-5" id="panigation">1/{{totalPages}}</span>
        </div>
        <div class="col d-flex justify-content-between ps-0">
            <button class="btn btn-success" id="currentPage_btn_right"><i class="bi bi-caret-right-fill"></i></button>
        </div>
    </div>
</center>

</div>

<script src="/js/food.js"></script>

<script>
  let food = {{{ json foods }}};
  renderFoodList(food);
  let userMenu = {{isLogin}} ? JSON.parse('{{{ json userMenu }}}') : [];  
  if(userMenu != []){
    renderUserMenu(userMenu)
  }

</script>


